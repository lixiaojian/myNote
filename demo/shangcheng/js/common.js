function yuan(t){return(t/100).toFixed(2)}!function(t){t.startLoading=function(){if(!($("#loadingToast").length>0)){var t="";t+='<div id="loadingToast" class="weui_loading_toast" style="display:none;">',t+='<div class="weui_mask_transparent"></div>',t+='<div class="weui_toast">',t+='<div class="weui_loading">';for(var i=0;i<12;i++)t+='<div class="weui_loading_leaf weui_loading_leaf_'+i+'"></div>';t+="</div>",t+='<p class="weui_toast_content">数据加载中</p>',t+="</div></div>",$("body").append(t)}$("#loadingToast").show()},t.endLoading=function(){$("#loadingToast").hide()},t.alert=function(t,i){var t=t||"",i=i||"提示",e="";e+='<div class="weui_dialog_alert" id="dialog2" style="display: none;">',e+='<div class="weui_mask"></div>',e+='<div class="weui_dialog">',e+='<div class="weui_dialog_hd"><strong class="weui_dialog_title">'+i+"</strong></div>",e+='<div class="weui_dialog_bd">'+t+"</div>",e+='<div class="weui_dialog_ft">',e+='<a href="javascript:;" class="weui_btn_dialog primary">确定</a>',e+="</div></div></div>",$("body").append(e),$("#dialog2").show().on("click",".weui_btn_dialog",function(){return $("#dialog2").off("click").hide(),$("#dialog2").remove(),!0})},t.alert2=function(t){var i="";i+='<div class="weui_dialog_confirm weui_dialog_confirm2" id="dialog2_1" style="display: none;">',i+='<div class="weui_mask"></div>',i+='<div class="weui_dialog">',i+='<div class="weui_dialog_hd"><div class="top-logo"></div></div>',i+='<div class="weui_dialog_bd">'+t+"</div>",i+='<div class="weui_dialog_ft">',i+='<a href="javascript:;" class="weui_btn_dialog default">确定</a>',i+="</div></div></div>",$("body").append(i),$("#dialog2_1").show().on("click",".weui_btn_dialog",function(){return $("#dialog2_1").off("click").hide(),$("#dialog2_1").remove(),!0})},t.message=function(t,i){var t=t||"",i=i||"提示",e="";e+='<div class="weui_dialog_alert" style="display: none;">',e+='<div class="weui_mask"></div>',e+='<div class="weui_dialog">',e+='<div class="weui_dialog_hd"><strong class="weui_dialog_title">'+i+"</strong></div>",e+='<div class="weui_dialog_bd">'+t+"</div>",e+='<div class="weui_dialog_ft">',e+="</div></div></div>",$("body").append(e),$("#dialog2").show()},t.toast=function(t){var t=t||"已完成",i="";i+='<div id="toast" style="display: none;">',i+='<div class="weui_mask_transparent"></div>',i+='<div class="weui_toast">',i+='<i class="weui_icon_toast"></i>',i+='<p class="weui_toast_content">'+t+"</p>",i+="</div>",i+="</div>",$("body").append(i),$("#toast").show(),setTimeout(function(){$("#toast").hide(),$("#toast").remove()},2e3)},t.confirm=function(t){var t=t||{},i=t.msg||"",e=t.title||"提示",n="";n+='<div class="weui_dialog_confirm" id="dialog1" style="display: none;">',n+='<div class="weui_mask"></div>',n+='<div class="weui_dialog">',n+='<div class="weui_dialog_hd"><strong class="weui_dialog_title">'+e+"</strong></div>",n+='<div class="weui_dialog_bd">'+i+"</div>",n+='<div class="weui_dialog_ft">',n+='<a href="javascript:;" class="weui_btn_dialog default">取消</a>',n+='<a href="javascript:'+t.center+';" class="weui_btn_dialog primary">确定</a>',n+="</div></div></div>",$("body").append(n),$("#dialog1").show().on("click",".weui_btn_dialog",function(){return $("#dialog1").off("click").hide(),$("#dialog1").remove(),!0})},t.confirm2=function(t){var t=t||{},i=t.msg||"",e=(t.title,"");e+='<div class="weui_dialog_confirm weui_dialog_confirm2" id="dialog1_1" style="display: none;">',e+='<div class="weui_mask"></div>',e+='<div class="weui_dialog">',e+='<div class="weui_dialog_hd"><div class="top-logo"></div></div>',e+='<div class="weui_dialog_bd">'+i+"</div>",e+='<div class="weui_dialog_ft">',e+='<a href="javascript:;" class="weui_btn_dialog default">取消</a>',e+='<a href="javascript:'+t.center+';" class="weui_btn_dialog primary">确定</a>',e+="</div></div></div>",$("body").append(e),$("#dialog1_1").show().on("click",".weui_btn_dialog",function(){return $("#dialog1_1").off("click").hide(),$("#dialog1_1").remove(),!0})},t.share=function(){var t="";t+='<div id="dialogshare" style="width:100vw;height:100vh;background:rgba(0,0,0,.8);position:fixed;top:0;left:0;z-index:9999">',t+='<div style="background:url(/images/pics/jiantou.png) no-repeat top right;background-size: auto 100%;width:80vw;height:60vw;margin:10vw"></div>',t+='<div class="text-align-center" style="color:#fff">动动手指点击右上角“…”，</div>',t+='<div class="text-align-center" style="color:#fff">和你的小伙伴共享这份惊喜吧！</div>',t+="</div>",$("body").append(t),$("body").on("touchstart","#dialogshare",function(){return $("body").off("touchstart","#dialogshare"),$("#dialogshare").remove(),!0})},t.nullDataPrompt=function(t){var i="";i+='<div id="'+t.ele.substring(1)+'_data_prompt" style="margin:0 auto;padding-top:20vw;text-align:center;color:#aaa;width:92vw;">',i+='<p style="">',i+='<h3 style="">'+t.title+"</h3>",i+='<p style="">'+t.msg+"</p>",i+="</div>",$("body "+t.ele).html(i)},t.validate=function(){return{then:function(i,e){$("body ").append('<div class="weui_dialog_confirm" id="trun-table-winning" style=""><div class="weui_mask"></div><div class="weui_dialog"><div class="winning-img" style=" display: flex;justify-content: center;align-items: center;margin-top: 2vw;"><img src="/images/img.png" style="width: 40vw;height: auto;" /></div><div class="weui_dialog_hd"><strong class="weui_dialog_title"><span class="winning-product"></span></strong></div><div class="weui_dialog_bd">亲，小美友情提醒您，手机号务必真实填写哦，这可是您消费核查的重要凭证哟</div><div class="weui_dialog_ft" style="position: static; display: flex; flex-flow: column; margin-top: 0;line-height: 36px;"><input style="padding: 1vw;margin: 2vw 4vw;height: 8vw;border-radius: 5px;border: 1px solid #ccc;font-size: 1rem;" type="tel" maxlength="11" name="" id="tel" value="" placeholder="请填写您的手机号" /><span class="errorTxt" style="color: red;text-align: left;margin: 0 4vw;"></span><a style="background: #2AB179 !important;color: #fff !important;margin: 1vw 4vw 4vw; border-radius: 5px;" href="javascript:"  class="weui_btn_dialog save_btn primary">提&nbsp;交</a></div></div>'),$("#trun-table-winning").on("touchstart",".weui_mask",function(){return $("#trun-table-winning").off("touchstart","a"),$("#trun-table-winning").remove(),!0}),$("#trun-table-winning").on("touchstart","a",function(n){if(n.stopPropagation(),!/^[1][3|4|5|7|8]\d{9}$/.test($("#trun-table-winning input").val()))return $("#trun-table-winning .errorTxt").text("请输入正确的手机号码"),void $("#trun-table-winning .errorTxt").show();$("#trun-table-winning .errorTxt").hide();var a=keyGetValue("openid"),o=$("#trun-table-winning input").val();t.startLoading(),t.api.groupBuy.updateUserPhone({data:{openid:a,phone:o},success:function(e){t.endLoading(),e.success?($("#trun-table-winning").off("touchstart","a"),$("#trun-table-winning").remove(),i(!0)):t.alert("手机号保存异常，请联系管理员")},error:function(i){t.endLoading(),e(i.data)}})})}}},t.draw=function(t){var i='<div class="weui_dialog_confirm" id="trun-table-winning1" style="display:none;"><div class="weui_mask"></div><div class="weui_dialog"><div class="winning-img" style=" display: flex;justify-content: center;align-items: center;margin-top: 2vw;"><img src="/images/img.png" style="width: 40vw;height: auto;" /></div><div class="weui_dialog_hd"><strong class="weui_dialog_title">获得<span class="winning-product">'+t+'</span>奖项一份</strong></div><div class="weui_dialog_bd">小主,恭喜您,小美稍后将以短信的方式,将您中奖的券号发送至您的手机,请注意查收,或关注美问公众号,"个人中心" 下的 "我的优惠券" 中查看您中奖的券号</div><div class="weui_dialog_ft" style="position: static; display: flex; flex-flow: column; margin-top: 0;line-height: 36px;"><a style="background: #2AB179 !important;color: #fff !important;margin: 1vw 4vw 4vw; border-radius: 5px;" href="javascript:"  class="weui_btn_dialog save_btn primary">确&nbsp;定</a></div></div>';$("body").append(i),$("#trun-table-winning1").show().on("click",".save_btn",function(){return $("#trun-table-winning1").off("click").hide(),$("#trun-table-winning1").remove(),!0})},t.downAnimate=function(t){var i='<div class="downBox" style="background:'+t.bg+'"><div class="downContent"><div class="downMain"><div class="booking-merchant-info">'+$(t.dom).html();$("body").append(i),$(t.dom).remove();$(".downBox,.downContent").click(function(){$(".downBox").hide(),$(".downBox").find(".downContent").stop().slideUp(200)}),$(".downContent").click(function(t){t.stopPropagation()}),$(t.ctrl).click(function(t){"none"==$(".downBox").css("display")?($(".downBox").show(),$(".downBox").find(".downContent").stop().slideDown(200)):($(".downBox").hide(),$(".downBox").find(".downContent").stop().slideUp(200))})},t.tools={toThousands:function(t){if(0!=t&&!t)return"";var t=(t/100).toFixed(2),i="";"number"==typeof t&&(i+=t),"string"==typeof t&&(i=t);var e="",n=i.split(".");return e=n[0].replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),n.length>1&&(e=e+"."+n[1]),e},getDate:function(t){var t=t||new Date,i=t.getMonth();(i+=1)<10&&(i="0"+i);var e=t.getDate();return e<10&&(e="0"+e),i+"月"+e+"日"},getDate1:function(t){var t=t||new Date,i=t.getMonth();(i+=1)<10&&(i="0"+i);var e=t.getDate();return e<10&&(e="0"+e),i+"."+e},getMonth:function(t){var t=t||new Date,i=t.getMonth();(i+=1)<10&&(i="0"+i);var e=t.getDate();return e<10&&(e="0"+e),i},getDate_reverse:function(t){if(t){var i=(new Date).getFullYear().toString();return t=t.replace("月","/"),t=t.replace("日",""),i+"/"+t}},getWeek:function(t){var t=t||new Date;return new Array("星期日","星期一","星期二","星期三","星期四","星期五","星期六")[t.getDay()]},getWeek1:function(t){var t=t||new Date;return new Array("周日","周一","周二","周三","周四","周五","周六")[t.getDay()]},getMoment:function(t){var t=t||new Date,i=t.getHours();i<10&&(i="0"+i);var e=t.getMinutes();e<10&&(e="0"+e);var n=t.getSeconds();return n<10&&(n="0"+n),i+":"+e+":"+n},getMoment1:function(t){var t=t||new Date,i=t.getHours();i<10&&(i="0"+i);var e=t.getMinutes();e<10&&(e="0"+e);var n=t.getSeconds();return n<10&&(n="0"+n),i+":"+e},getMinutes:function(t){var t=t||new Date,i=t.getHours();i<10&&(i="0"+i);var e=t.getMinutes();return e<10&&(e="0"+e),i+":"+e},resetBodyWH:function(){var t=window.screen.height;$("body").css("height",t+"px")},resetBodyScroll:function(){window.scrollTo(0,0)},toDate:function(t,i){if(null!=t){"string"==typeof t&&(t=t.replace(/-/gi,"/"));var t=new Date(t),e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(i)&&(i=i.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return i}},toDate2:function(i,e){if(null!=i){"string"==typeof i&&(i=i.replace(/-/gi,"/"));var i=new Date(i),n=new Date,a=Math.floor((n-i)/1e3);return a<3600?Math.floor(a/60)+"分钟前":a<86400?Math.floor(a/60/60)+"小时前":a<2592e3?Math.floor(a/60/60/24)+"天前":a<7776e3?Math.floor(a/60/60/24/30)+"个月前":t.tools.toDate(i,e)}},toDateilDateteday:function(t){if(null!=t){t=t.replace(/-/gi,"/"),t=new Date(t);return t?"今天":void 0}},sliceStr:function(t,i){if(t){t+="";for(var e,n=0,a=t.length,o=0;o<a;o++)if(e=t.charCodeAt(o),(n+=e>=0&&e<=128?1:2)>i)return t.slice(0,o)+"...";return t}return""},checkStrLength:function(t,i){if(t){t+="";for(var e,n=0,a=t.length,o=0;o<a;o++)if(e=t.charCodeAt(o),(n+=e>=0&&e<=128?1:2)>i)return!1;return!0}return!0},formatDate:function(i){if("object"!=typeof i&&"ios"==t.tools.getEquipmentinfo()){return i.substring(0,10)}var i=new Date(i);return i.getFullYear()+"-"+(i.getMonth()+1>10?i.getMonth()+1:"0"+(i.getMonth()+1))+"-"+(i.getDate()>9?i.getDate():"0"+i.getDate())},getTodayDate:function(){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t},getEquipmentinfo:function(){var t=navigator.userAgent,i=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,e=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return i?"android":e?"ios":void 0},couponDate:function(i){var e="";if(i){var n=[];if(i.startTimeRule)n[0]=i.startTimeRule,n[1]=i.endTimeRule;else{if(!i.startDateRule)return;n[0]=i.startDateRule,n[1]=i.endDateRule}return 1==n[0]&&1==n[1]?e="不限时长":(1==n[0]?i.startDate?e+=t.tools.toDate(i.startDate,"yyyy-MM-dd"):e+="购买日期":2==n[0]?i.startDate?e+=t.tools.toDate(i.startDate,"yyyy-MM-dd"):e+="首次使用时间":(n[0],e+=t.tools.toDate(i.startDate,"yyyy-MM-dd")),1==n[1]?e+=" 后生效":2==n[1]?i.endDate?e+=" 至 "+t.tools.toDate(i.endDate,"yyyy-MM-dd"):i.endTimeDurationAmount?(e+=" 起 "+i.endTimeDurationAmount,1==i.endTimeDurationUnit?e+="年":2==i.endTimeDurationUnit?e+="月":3==i.endTimeDurationUnit&&(e+="日"),e+="内有效"):e+="???":(n[1],e+=" 至 "+t.tools.toDate(i.endDate,"yyyy-MM-dd"))),e}},rad:function(t){return t*Math.PI/180},getDistance:function(t,i,e,n){var a=this.rad(t),o=this.rad(e),s=a-o,r=this.rad(i)-this.rad(n),d=2*Math.asin(Math.sqrt(Math.pow(Math.sin(s/2),2)+Math.cos(a)*Math.cos(o)*Math.pow(Math.sin(r/2),2)));return d*=6378.137,d=Math.round(1e4*d)/1e4},getDistance2:function(i,e,n,a){var o=t.tools.getDistance(i,e,n,a);return o=o>1?o.toFixed(2)+"km":Math.floor(1e3*o)+"m"},textarea:function(t){return t.replace(/(\&|\&)gt;/g,">").replace(/(\&|\&)lt;/g,"<").replace(/(\&|\&)quot;/g,'"')}}}(app),String.prototype.getParameterKey=function(t){for(var i=this.substr(1,this.length),e=i.split("&"),n=0;n<e.length;n++){var a=e[n];if(a.split("=")[0]==t)return a.split("=")[1]}return""},window.keyGetValue=function(t){return window.location.search.getParameterKey(t)},Date.prototype.format=function(t){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t},String.prototype.format=function(t){return new Date(this).format(t)},Number.prototype.toYuan=function(){return(this/100).toFixed(2)},$.fn.tap=function(t,i){var e=this;if(0==arguments.length)return $(e).trigger("touchstart"),void $(e).trigger("touchend");e.on("touchstart",t,function(n){e.on("touchend",t,function(t){({ele:this,fun:i}).fun(t),e.off("touchend")}),setTimeout(function(){e.off("touchend")},800),e.on("touchmove",function(t){e.off("touchend")})})};